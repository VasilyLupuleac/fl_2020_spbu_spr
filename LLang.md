# Синтаксис языка L

## Выражения

Корректные выражения в языке -- это переменные, целые неотрицательные числа в десятичной записи (допускаются ведущие нули), вызовы функций и операторы, примененные к одному или двум выражениям (в зависимости от арности).

Операция | Арность | Синтаксис | Ассоциативность | Приоритет
---------|---------|-----------|-----------------|----------
 `\|\|`  | 2       | `a \|\| b`| Правая          | 1
 `&&`    | 2       | `a && b`  | Правая          | 2
  `!`    | 1       | `!a`      | -               | 3
 `==`    | 2       | `a == b`  | Нет             | 4
 `/=`    | 2       | `a /= b`  | Нет             | 4
 `>=`    | 2       | `a >= b`  | Нет             | 4
 `>`     | 2       | `a > b`   | Нет             | 4
 `<=`    | 2       | `a <= b`  | Нет             | 4
 `<`     | 2       | `a < b`   | Нет             | 4
 `+`     | 2       | `a + b`   | Левая           | 5
 `-`     | 2       | `a - b`   | Левая           | 5
 `*`     | 2       | `a * b`   | Левая           | 6
 `/`     | 2       | `a / b`   | Левая           | 6
 `%`     | 2       | `a % b`   | Левая           | 6
 `-`     | 1       | `-a`      | -               | 7
 `^`     | 2       | `a ^ b`   | Правая          | 8



Все логические операторы воспринимают `0` как `False` и остальные числа как `True`, возвращают `0` или `1`.

Деление и взятие по модулю для отрицательных чисел производится исходя из тождества `b * (a / b) + a % b == b` и условия `0 <= a % b && a % b < |b|`

Любое выражение, заключенное в скобки, остается корректным выражением, приоритеты операторов в скобках выше приоритетов операторов вне скобок. 
 
## Имена переменных

Имена переменных могут содержать только буквы латинского алфавита, цифры и `_`, не могут начинаться с цифр и совпадать с ключевыми словами.
Имена функций подчиняются таким же требованиям. Допускается называть одинаковым именем функцию и переменную.

## Элементарные команды

Элементарные команды можно образовывать с помощью семи ключевых слов: `if`, `else`, `while`, `read`, `print`, `fun`, `return` и оператора присваивания (`=`) по следующим правилам:

- `if (expr) cmd` - выполняет команду `cmd`, если значение `expr` не равно нулю.
- `if (expr) cmd else cmd'` - выполняет команду `cmd`, если значение `expr` не равно нулю, и команду `cmd'` в противном случае. Если скобки отсутствуют, `else` относится к ближайшему слева `if`.
- `while (expr) cmd` - выполняет команду `cmd`, пока значение `expr` не равно нулю.
- `read(vn)` - читает из стандартного ввода одно корректное число, перед которым может стоять один символ `-`, и записывает в переменную с именем `vn`.
- `print(expr)` - выводит значение `expr` в стандартный вывод. Формат вывода такой же, как и формат ввода.
- `vn = expr` - присваивает переменной `vn` значение выражения `expr`.
- `fun fn (arg_1, ..., arg_n) {cmd_1; ...; cmd_k}` - объявляет функцию с именем `fn` и аргументами `arg_1, ..., arg_n`, которая при вызове последовательно выполняет команды `cmd_1, ..., cmd_k`(список аргументов и/или тело могут быть пустыми). В этих командах можно использовать переменные-аргументы без инициализации. Если в теле функции используются другие переменные, они должны быть объявлены внутри функции.
- `fn(expr_1, ..., expr_n)` - вызывает функцию с именем `fn`, присваивая ее аргументам значения `expr_1, ..., expr_n`. После этого выполняются команды из тела функции. Функция должна быть объявлена с помощью ключевого слова `fun`. Количество 
- `return expr` - завершает выполнение текущего вызова функции и возвращает значение `expr` в качестве результата. Если `return` используется не внутри функции, программа завершается.

Все переменные, использующиеся в выражении, должны быть предварительно инициализированы с помощью `read` или оператора присваивания.

## Функции

* Все используемые функции должны быть последовательно объявлены в начале программы.
* При вызове функции количество переданных аргументов должно совпадать с количеством аргументов в объявлении функции.
* Если в качестве выражения используется вызов функции, который завершается без выполнения команды `return`, то значение считается равным нулю.
* Если объявить несколько функций с одинаковым именем, рассматриваться будет только последняя.

## Составные команды

Элементарные команды можно объединять в блоки с помощью `{}` и разделителя `;`:

если `cmd_1`, ..., `cmd_n` - команды, то `{cmd_1; ... cmd_n;}` - команда, последовательно выполняющая все команды из списка. Список может быть пустым.

## Пробелы и отступы

Допускаются любые пробельные символы (пробелы, табуляции, переносы строк), а также их отсутствие. Хотя бы один пробельный символ требуется только после ключевого слова `else`.

## Программы на LLang
Программа состоит из двух частей: объявления функций и тела программы. Телом программы может являться любая команда, все выражения и команды внутри которой корректны. Объявления функций обязаны находится до тела программы. Специальных разделителей между объявлениями функций, а также перед телом программы не требуется. Примеры программ:

* `x = 5`
* `{ y = -2 + (2); }`
* `if (1) {} else {}`
* ``` 
	{read(n);
	while (n > 1) {
		if (n % 2) 
			n = 3 * n + 1
		else
			n = n / 2;
	};} ```
* ``` 
	fun max(a, b) { if (a > b) return a else return b;}
	fun print_max(a, b) {print(max(a, b);}
	
	print_max(10 ^ 9, 9 ^ 10)
	```